---
title: "Merwan Visualizations"
author: "Merwan Yeditha"
date: "2024-04-16"
output: html_document
---

#### Data Loading
```{r}
x <- read_csv('clean_data/NYC_Gentrification_2000_16_clean.csv')
housing <- read_csv('clean_data/HousingDB_post2010_clean.csv')
housing$Ownership <- as.factor(housing$Ownership)
housing$Job_Type <- as.factor(housing$Job_Type)
housing$Borough <- as.factor(housing$Borough)
```

## Background on Gentrification in Brooklyn
```{r}
ggplot(data=x[order(x$NHWPCTDIFF, decreasing=TRUE)[0:100],], aes(x=Borough)) +
  geom_bar() +
  labs(y="Change in % Non-Hispanic White", 
       title="100 Census Tracts with Greatest Difference in % Non-Hispanic White Pop. by Borough")
```
Figure **X.X**: Boroughs in which the census tracts with the largest change in %
NHW population are located. Change in % NHW population is calculated by taking 
NHW% in 2016 - NHW% in 2000.

## Why Has Brooklyn Gentrified?

### Zoning Policies

```{r}
ggplot(data=housing[housing$Borough=='Brooklyn',], aes(x=PermitYear, fill=Job_Type)) +
  geom_bar() +
  labs(title="Job Type Breakdown per Borough per Year", x="Permit Year", y="Count")
```
Figure **X.X**: Housing jobs by job type in each Borough. Note the spike in
new projects in Brooklyn soon after 2004, when new zoning policies were
introduced.

### Displacement of Public Housing

```{r}
gov_housing = housing[housing$`Ownership Abbrev`=='Government, City',]
gov_housing = gov_housing[gov_housing$Borough != "Staten Island",]
ggplot(data=gov_housing[gov_housing$Job_Type=='New Building',], aes(x=PermitYear, fill=Ownership)) +
  geom_bar() +
  facet_wrap(~Borough, scales='free', ncol=2)
```

Figure **X.X**: New construction of government owned housing projects by borough. Affordable housing is HPD (until 2015), NYCHA, and NYCHA/HHC. Note lack of new
projects after 2015 in Brooklyn compared with other Boroughs.

### Real Estate Speculation
```{r}
individ_housing = housing[housing$`Ownership Abbrev`=='Private For-Profit',]
individ_housing = individ_housing[individ_housing$Borough != "Staten Island",]
ggplot(data=individ_housing[individ_housing$Job_Type=='New Building',], aes(x=PermitYear, fill=`Ownership`)) +
  geom_bar(position='fill') +
  labs(title="Ownership of Private For-Profit Housing", x="Permit Year", y="Cnt") +
  facet_wrap(~Borough, ncol=2, scales = 'free')
```
Figure **X.X**: Percent ownership of private for-profit housing in NYC. Note the
decreasing share of individually owned properties in Brooklyn.